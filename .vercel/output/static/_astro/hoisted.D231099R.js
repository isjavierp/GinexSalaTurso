import{$ as a}from"./dom.DyxYIT6y.js";import"./hoisted.VqTYtgAw.js";const n=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);let i=n();window.localStorage.getItem("username")&&(window.location.href="/");const d=a("form"),c=a("#recovery-code");c.value=i;d?.addEventListener("submit",async t=>{t.preventDefault();const r=Object.fromEntries(new FormData(t.target)),e=await fetch("/api/users.json",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}),o=await e.json();if(!e.ok){const{message:s}=o;if(s.startsWith("4")){alert("Datos invalidos");return}alert("Este usuario ya existe");return}console.log(o.data),alert("Usuario guardado exitosamente"),window.location.href="/"});
